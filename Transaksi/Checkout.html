<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="Checkout.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>

    <div class="mobile-screen">

        <div class="simple-header">
            <a href="Scan.html" class="back-btn"><i class="fas fa-chevron-left"></i></a>
            <h3>Checkout</h3>
            <div style="width: 20px;"></div>
        </div>

        <div class="content-padding">

            <div class="checkout-options">
                <div class="option-row" onclick="isiData('ID Pelanggan')">
                    <span class="opt-label">ID Pelanggan</span>
                    <div class="input-group-pay">
                        <label style="text-align:left; display:block; margin-bottom:5px; font-weight:bold;">Cari Member</label>
                        <input type="text" id="inputMemberLuar" placeholder="Klik untuk cari member..." readonly style="background-color: #f9f9f9; cursor: pointer;">
                        <p style="font-size:10px; color:#999; margin-top:5px;">*Data akan terisi otomatis </p>
                    </div>
                </div>

                <div class="option-row" onclick="isiData('Metode Pembayaran')">
                    <span class="opt-label">PEMBAYARAN</span>
                    <div class="opt-value">
                        <span id="textMetode">Tambahkan Metode</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
            </div>

            <div class="list-header">
                <span>BARANG</span>
                <span>DESKRIPSI</span>
                <span>HARGA</span>
            </div>

            <div id="cartList" class="cart-list">
            </div>

            <div class="total-row">
                <span>Total</span>
                <span class="total-price" id="totalDisplay">Rp 0</span>
            </div>
            <div id="paymentDetails" class="payment-details-box" style="display: none;">
                <div class="detail-row">
                    <span>Uang Dibayar</span>
                    <span id="displayBayar">Rp 0</span>
                </div>
                <div class="detail-row">
                    <span>Kembalian</span>
                    <span id="displayKembalian" style="color: #4CD964;">Rp 0</span>
                </div>
            </div>

            <div class="checkout-footer">
                <a href="../tambah-member.html?from=checkout" class="link-small">Buat Member</a>
                <button class="btn-login btn-blue-soft" onclick="selesaikanTransaksi()">
                    Selesaikan Transaksi
                </button>
            </div>

        </div>
    </div>

    <div id="paymentModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3>Pilih Pembayaran</h3>

            <div class="payment-grid">
                <div class="pay-card selected" onclick="pilihMetode(this, 'Tunai')">
                    <i class="fas fa-money-bill-wave"></i> Tunai
                </div>
                <div class="pay-card" onclick="pilihMetode(this, 'Dana')">
                    <i class="fas fa-wallet" style="color:#118EEA;"></i> Dana
                </div>
                <div class="pay-card" onclick="pilihMetode(this, 'ShopeePay')">
                    <i class="fas fa-shopping-bag" style="color:#EE4D2D;"></i> ShopeePay
                </div>
                <div class="pay-card" onclick="pilihMetode(this, 'SeaBank')">
                    <i class="fas fa-university" style="color:#FF6600;"></i> SeaBank
                </div>
            </div>

            <div id="inputTunaiArea" class="input-group-pay">
                <label>Uang Diterima</label>
                <input type="text" id="inputBayar" placeholder="Masukkan nominal..." oninput="hitungKembalian()">
                <div class="info-kembalian">
                    Kembalian: <span id="textKembalian" style="font-weight:bold; color:#4CD964;">Rp 0</span>
                </div>
            </div>

            <div class="modal-actions">
                <button class="btn-cancel" onclick="tutupModal()">Batal</button>
                <button class="btn-confirm" onclick="konfirmasiBayar()">OK</button>
            </div>
        </div>
    </div>
    <div id="idModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3>ID Pelanggan</h3>

            <p style="color:#666; font-size:13px; margin-bottom: 15px;">
                Masukkan ID 0 jika tidak terdaftar sebagai member.
            </p>

            <!-- Input Field -->
            <div class="input-group-pay">
                <label>ID Member:</label> <input type="number" id="inputManualID" placeholder="ID Member">

                <div style="margin-top: 5px; font-size: 0.9em;">
                    Nama Member: <span id="number">-</span>
                </div>
            </div>

            <!-- Tombol Aksi -->
            <div class="modal-actions" style="margin-top: 20px;">
                <button class="btn-cancel" onclick="tutupModalID()">Batal</button>
                <button class="btn-confirm" onclick="simpanIDManual()">Simpan</button>
            </div>
        </div>
    </div>
    <script src="Checkout.js"></script>
</body>

</html>